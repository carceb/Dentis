@model Dentis.Models.BudgetViweModel
@{
	Layout = "";    
}
<!DOCTYPE HTML>
<html>
	<head>
		<title>Dentis</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="~/assets/css/main.css" />
		<noscript><link rel="stylesheet" href= "~/assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
	@using(Html.BeginForm("Index", "Budget", FormMethod.Post))
	{
	<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">

							<!-- Logo -->
								<a href="index.html" class="logo">
									<span class="symbol"><img src="~/images/logo.svg" alt="" /></span><span class="title">Dentis</span>
								</a>
						</div>
						<!-- Nav -->
							<nav>
								<ul>
									<li><a href="#menu">Menu</a></li>
								</ul>
							</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li>@Html.ActionLink("Registrar paciente", "Add", "PatientRegistration")</li>
							<li>@Html.ActionLink("Pacientes en cola", "Index", "Queue")</li>
							<li>@Html.ActionLink("Seleccionar consultorio", "Index", "ConsultingSelection")</li>
						</ul>
					</nav>

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
							<section>
								<h2>Realizar presupuesto</h2>

									<div class="fields">
										<div class="field half">
											Cliente: @ViewBag.ClientName
										</div>
										<div class="field half">
											@Html.DropDownListFor(t => t.QuadrantId, (SelectList)ViewBag.Quadrant, "-- Seleccione el cuadrante --")
										</div>
										<div class="field half">
											@Html.DropDownListFor(t => t.QuadrantToothId, (SelectList)ViewBag.QuadrantTooth, "-- Seleccione el diente --")
										</div>
										<div class="field half">
											@Html.DropDownListFor(t => t.ProcedureId, (SelectList)ViewBag.ProcedureName, "-- Seleccione el procedimiento --")
										</div>
										<div class="field half">
											@Html.TextBoxFor(x => x.Cost, new { placeholder = "Costo"})
											 <span asp-validation-for="Cost" class="text-danger"></span>
										</div>
									</div>
									<br>
									<ul class="actions">
										<li><input type="submit" value="Enviar a la cola" class="primary" /></li>
										<li><input type="button" value="Pacientes en cola" class="primary"  onclick="location.href='@Url.Action("Index", "Queue")'" /></li>
									</ul>
								</section>
							<ul class="copyright">
								<li>&copy; Untitled. All rights reserved</li><li>Design: Carlos Ceballos</li>
							</ul>
						</div>
					</footer>
			</div>	
	}

		<!-- Scripts -->
			<script src="~/assets/js/jquery.min.js"></script>
			<script src="~/assets/js/browser.min.js"></script>
			<script src="~/assets/js/breakpoints.min.js"></script>
			<script src="~/assets/js/util.js"></script>
			<script src="~/assets/js/main.js"></script>
			@{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
			<script src="~/assets/js/jquery.min.js" type="text/javascript"></script>  
			<script type="text/javascript">  
				$(document).ready(function () {  
					$("#QuadrantId").change(function () {  
						$("#QuadrantToothId").empty();  
						$.ajax({  
							type: 'POST',  
							url: '@Url.Action("GetQuadrantTooth")',
       
							dataType: 'json',  
       
							data: { quadrantToothId: $("#QuadrantId").val() },   
       
							success: function (quadrantTooths) {  
       
								$.each(quadrantTooths, function (i, quadrantTooth) {  
								$("#QuadrantToothId").append('<option value="' + quadrantTooth.value + '">' +    
									 quadrantTooth.text + '</option>');                                                                                                  
      
								});  
							},  
							error: function (ex) {  
								alert('No se pudieron obtener los quadrantes.' + ex);  
							}  
						});  
						return false;  
					})  
				});  
			</script>  


	</body>
</html>

